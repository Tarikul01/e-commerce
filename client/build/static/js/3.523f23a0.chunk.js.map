{"version":3,"sources":["components/FormContainer.js","store/actions/cartActions.js","components/CheckoutSteps.js","screens/PaymentScreen.js"],"names":["FormContainer","children","className","xs","md","addToCart","id","qty","dispatch","getState","a","axios","get","response","type","CART_ADD_ITEM","payload","product","data","_id","name","image","price","countInStock","localStorage","setItem","JSON","stringify","cart","cartItems","removeFromCart","CART_REMOVE_ITEM","saveShippingAddress","CART_SAVE_SHIPPING_ADDRESS","savePaymentMethod","CART_SAVE_PAYMENT_METHOD","CheckoutSteps","step1","step2","step3","step4","Item","to","Link","disabled","PaymentMethod","history","shippingAddress","useSelector","state","useDispatch","push","useState","paymentMethod","setPaymentMethod","onSubmit","e","preventDefault","Group","Label","as","Check","label","value","checked","onChange","target","variant"],"mappings":"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","file":"static/js/3.523f23a0.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Container, Row, Col } from 'react-bootstrap';\r\n\r\nconst FormContainer = ({ children }) => {\r\n  return (\r\n    <Container>\r\n      <Row className=\"justify-content-md-center\">\r\n        <Col xs={12} md={6}>\r\n          {children}\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default FormContainer;\r\n","import axios from 'axios';\r\nimport {\r\n  CART_ADD_ITEM,\r\n  CART_REMOVE_ITEM,\r\n  CART_SAVE_PAYMENT_METHOD,\r\n  CART_SAVE_SHIPPING_ADDRESS,\r\n} from './actionTypes';\r\n\r\nexport const addToCart = (id, qty) => {\r\n  return async (dispatch, getState) => {\r\n    const response = await axios.get(`/api/products/${id}`);\r\n\r\n    dispatch({\r\n      type: CART_ADD_ITEM,\r\n      payload: {\r\n        product: response.data._id,\r\n        name: response.data.name,\r\n        image: response.data.image,\r\n        price: response.data.price,\r\n        countInStock: response.data.countInStock,\r\n        qty: qty,\r\n      },\r\n    });\r\n\r\n    localStorage.setItem(\r\n      'cartItems',\r\n      JSON.stringify(getState().cart.cartItems)\r\n    );\r\n  };\r\n};\r\n\r\nexport const removeFromCart = (id) => {\r\n  return async (dispatch, getState) => {\r\n    dispatch({\r\n      type: CART_REMOVE_ITEM,\r\n      payload: id,\r\n    });\r\n    localStorage.setItem(\r\n      'cartItems',\r\n      JSON.stringify(getState().cart.cartItems)\r\n    );\r\n  };\r\n};\r\n\r\nexport const saveShippingAddress = (data) => {\r\n  return (dispatch) => {\r\n    dispatch({\r\n      type: CART_SAVE_SHIPPING_ADDRESS,\r\n      payload: data,\r\n    });\r\n    localStorage.setItem('shippingAddress', JSON.stringify(data));\r\n  };\r\n};\r\n\r\nexport const savePaymentMethod = (data) => {\r\n  return (dispatch) => {\r\n    dispatch({\r\n      type: CART_SAVE_PAYMENT_METHOD,\r\n      payload: data,\r\n    });\r\n    localStorage.setItem('paymentMethod', JSON.stringify(data));\r\n  };\r\n};\r\n","import React from 'react';\r\nimport { Nav } from 'react-bootstrap';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\n\r\nconst CheckoutSteps = ({ step1, step2, step3, step4 }) => {\r\n  return (\r\n    <Nav className=\"justify-content-center mb-4\">\r\n      <Nav.Item>\r\n        {step1 ? (\r\n          <LinkContainer to=\"/login\">\r\n            <Nav.Link>Sign In</Nav.Link>\r\n          </LinkContainer>\r\n        ) : (\r\n          <Nav.Link disabled>Sign In</Nav.Link>\r\n        )}\r\n      </Nav.Item>\r\n      <Nav.Item>\r\n        {step2 ? (\r\n          <LinkContainer to=\"/shipping\">\r\n            <Nav.Link>Shipping</Nav.Link>\r\n          </LinkContainer>\r\n        ) : (\r\n          <Nav.Link disabled>Shipping</Nav.Link>\r\n        )}\r\n      </Nav.Item>\r\n      <Nav.Item>\r\n        {step3 ? (\r\n          <LinkContainer to=\"/payment\">\r\n            <Nav.Link>Payment</Nav.Link>\r\n          </LinkContainer>\r\n        ) : (\r\n          <Nav.Link disabled>Payment</Nav.Link>\r\n        )}\r\n      </Nav.Item>\r\n      <Nav.Item>\r\n        {step4 ? (\r\n          <LinkContainer to=\"/placeorder\">\r\n            <Nav.Link>Place Order</Nav.Link>\r\n          </LinkContainer>\r\n        ) : (\r\n          <Nav.Link disabled>Place Order</Nav.Link>\r\n        )}\r\n      </Nav.Item>\r\n    </Nav>\r\n  );\r\n};\r\n\r\nexport default CheckoutSteps;\r\n","import React, { useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Button, Form, Col } from 'react-bootstrap';\r\n\r\nimport FormContainer from '../components/FormContainer';\r\nimport { savePaymentMethod } from '../store/actions/cartActions';\r\nimport CheckoutSteps from '../components/CheckoutSteps';\r\n\r\nconst PaymentMethod = ({ history }) => {\r\n  const { shippingAddress } = useSelector((state) => state.cart);\r\n  const dispatch = useDispatch();\r\n\r\n  if (!shippingAddress) {\r\n    history.push('/shipping');\r\n  }\r\n\r\n  const [paymentMethod, setPaymentMethod] = useState('PayPal');\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    dispatch(savePaymentMethod(paymentMethod));\r\n    history.push('/placeorder');\r\n  };\r\n\r\n  return (\r\n    <FormContainer>\r\n      <CheckoutSteps step1 step2 step3 />\r\n      <h1>Payment Method</h1>\r\n      <Form onSubmit={submitHandler}>\r\n        <Form.Group>\r\n          <Form.Label as=\"legend\">Select Method</Form.Label>\r\n          <Col>\r\n            <Form.Check\r\n              type=\"radio\"\r\n              label=\"PayPal or Credit Card\"\r\n              id=\"PayPal\"\r\n              name=\"paymentMethod\"\r\n              value=\"PayPal\"\r\n              checked\r\n              onChange={(e) => setPaymentMethod(e.target.value)}\r\n            ></Form.Check>\r\n          </Col>\r\n        </Form.Group>\r\n        <Button type=\"submit\" variant=\"primary\">\r\n          Continue\r\n        </Button>\r\n      </Form>\r\n    </FormContainer>\r\n  );\r\n};\r\n\r\nexport default PaymentMethod;\r\n"],"sourceRoot":""}